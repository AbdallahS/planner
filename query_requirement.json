{
  "query": {
    "bool": {
      "must": [
        {
          "term": {
            "live": true
          }
        },
        [
          {
            "bool": {
              "minimum_should_match": "50%",
              "should": [
                {
                  "query_string": {
                    "fields": [
                      "*implementationYear*"
                    ],
                    "query": "*2021*"
                  }
                }
              ]
            }
          },
          {
            "bool": {
              "minimum_should_match": "50%",
              "should": [
                {
                  "query_string": {
                    "fields": [
                      "*active*"
                    ],
                    "query": "1"
                  }
                }
              ]
            }
          }
        ]
      ],
      "filter": [
        {
          "terms": {
            "contenttype": [
              "unsw_psubject",
              "unsw_pcourse",
              "unsw_pcourse",
              "unsw_paos"
            ]
          }
        }
      ]
    }
  },
  "sort": [
    {
      "unsw_psubject.code_dotraw": {
        "order": "asc"
      }
    },
    {
      "unsw_pcourse.code_dotraw": {
        "order": "asc"
      }
    },
    {
      "unsw_paos.code_dotraw": {
        "order": "asc"
      }
    }
  ],
  "from": 7110,
  "size": 100,
  "track_scores": true,
  "_source": {
    "includes": [
      "*.code",
      "*.name",
      "*.award_titles",
      "*.keywords",
      "urlmap",
      "contenttype"
    ],
    "excludes": [
      "",
      null
    ]
  }
}